<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>spring源码阅读(六)-----ClassPathXmlApplicationContext流程 | 不喝酒的烟</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/normalize.css/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.css"><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.2.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">spring源码阅读(六)-----ClassPathXmlApplicationContext流程</h1><a id="logo" href="/.">不喝酒的烟</a><p class="description">随便写写</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/history/"><i class="fa fa-book"> 历史</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">spring源码阅读(六)-----ClassPathXmlApplicationContext流程</h1><div class="post-meta">2020-12-20<span> | </span><span class="category"><a href="/categories/spring%E6%BA%90%E7%A0%81/">spring源码</a></span></div><a class="disqus-comment-count" href="/2020/12/20/spring%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB(%E5%85%AD)-----ClassPathXmlApplicationContext%E6%B5%81%E7%A8%8B/#vcomment"><span class="valine-comment-count" data-xid="/2020/12/20/spring%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB(%E5%85%AD)-----ClassPathXmlApplicationContext%E6%B5%81%E7%A8%8B/"></span><span> 条评论</span></a><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95"><span class="toc-number">2.</span> <span class="toc-text">单元测试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ClassPathXmlApplicationContext%E7%BB%A7%E6%89%BF%E5%85%B3%E7%B3%BB"><span class="toc-number">3.</span> <span class="toc-text">ClassPathXmlApplicationContext继承关系</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#prepareRefresh"><span class="toc-number">3.1.</span> <span class="toc-text">prepareRefresh()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#obtainFreshBeanFactory"><span class="toc-number">3.2.</span> <span class="toc-text">obtainFreshBeanFactory()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#prepareBeanFactory-beanFactory"><span class="toc-number">3.3.</span> <span class="toc-text">prepareBeanFactory(beanFactory)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#invokeBeanFactoryPostProcessors-beanFactory"><span class="toc-number">3.4.</span> <span class="toc-text">invokeBeanFactoryPostProcessors(beanFactory)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#registerBeanPostProcessors-beanFactory"><span class="toc-number">3.5.</span> <span class="toc-text">registerBeanPostProcessors(beanFactory)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#initMessageSource"><span class="toc-number">3.6.</span> <span class="toc-text">initMessageSource()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#initApplicationEventMulticaster"><span class="toc-number">3.7.</span> <span class="toc-text">initApplicationEventMulticaster()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#registerListeners"><span class="toc-number">3.8.</span> <span class="toc-text">registerListeners()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#finishBeanFactoryInitialization-beanFactory"><span class="toc-number">3.9.</span> <span class="toc-text">finishBeanFactoryInitialization(beanFactory)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#finishRefresh"><span class="toc-number">3.10.</span> <span class="toc-text">finishRefresh()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#resetCommonCaches"><span class="toc-number">3.11.</span> <span class="toc-text">resetCommonCaches()</span></a></li></ol></li></ol></div></div><div class="post-content"><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>本章节，我们来看看ClassPathXmlApplicationContext的核心流程。</p>
<h2 id="单元测试"><a href="#单元测试" class="headerlink" title="单元测试"></a>单元测试</h2><ol>
<li>spring2.xml<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">	   <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="tag"><span class="string">		http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;org.springframework.mytest&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li>CompoBean1<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CompoBean1</span> </span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="built_in">void</span> <span class="function"><span class="title">send</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;I am send method from CompoBean1!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>CompoBean2<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CompoBean2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Autowired</span></span><br><span class="line">	<span class="keyword">private</span> CompoBean1 compoBean1;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="built_in">void</span> <span class="function"><span class="title">send</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">		compoBean1.send();</span><br><span class="line">		System.out.println(<span class="string">&quot;I am send method from CompoBean2!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>测试XmlBeanFactoryTest<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ClassPathXmlApplicationTest</span> </span>&#123;</span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="keyword">public</span> <span class="built_in">void</span> <span class="function"><span class="title">classPathXml5</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		BeanFactory bf = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;spring2.xml&quot;</span>);</span><br><span class="line">		CompoBean2 bean = (CompoBean2) bf.getBean(<span class="string">&quot;compoBean2&quot;</span>);</span><br><span class="line">		bean.send();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ClassPathXmlApplicationContext继承关系"><a href="#ClassPathXmlApplicationContext继承关系" class="headerlink" title="ClassPathXmlApplicationContext继承关系"></a>ClassPathXmlApplicationContext继承关系</h2><img src="https://cdn.jsdelivr.net/gh/engimatic/privateimage@main/img/ClassPathXmlApplicationContext.png"><br>从途中可以看出，ClassPathXmlApplicationContext也是一个BeanFactory，只不过在BeanFactory增加了一些上下文属性。我们理解了XmlBeanFactory的BeanDefinition转化和Bean实例化，理解ClassPathXmlApplicationContext也就简单了。<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="module-access"><span class="module"><span class="identifier">AbstractApplicationContext</span>.</span></span><span class="keyword">class</span></span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">	public void refresh<span class="literal">()</span> throws BeansException, IllegalStateException &#123;</span><br><span class="line">		synchronized (this.startupShutdownMonitor) &#123;</span><br><span class="line">			<span class="comment">// Prepare this context for refreshing.</span></span><br><span class="line">			<span class="comment">// 设置容器当前时间，并设置容器为active</span></span><br><span class="line">			prepare<span class="constructor">Refresh()</span>;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Tell the subclass to refresh the internal bean factory.</span></span><br><span class="line">			<span class="comment">// 子类启动refreshBeanFactory()方法  加载BeanDefinition</span></span><br><span class="line">			ConfigurableListableBeanFactory beanFactory = obtain<span class="constructor">FreshBeanFactory()</span>;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Prepare the bean factory for use in this context.</span></span><br><span class="line">			<span class="comment">// 为BeanFactory配置容器特性，例如类加载器/事件处理器</span></span><br><span class="line">			prepare<span class="constructor">BeanFactory(<span class="params">beanFactory</span>)</span>;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="comment">// Allows post-processing of the bean factory in context subclasses.</span></span><br><span class="line">				<span class="comment">// 此方法允许子类在所有的bean尚未初始化之前注册BeanPostProcessor。空实现且没有子类覆盖。</span></span><br><span class="line">				post<span class="constructor">ProcessBeanFactory(<span class="params">beanFactory</span>)</span>;</span><br><span class="line"></span><br><span class="line">				<span class="comment">// Invoke factory processors registered as beans in the context.</span></span><br><span class="line">				invoke<span class="constructor">BeanFactoryPostProcessors(<span class="params">beanFactory</span>)</span>;</span><br><span class="line"></span><br><span class="line">				<span class="comment">// Register bean processors that intercept bean creation.</span></span><br><span class="line">				<span class="comment">// 为BeanFactory注册Post事件处理器</span></span><br><span class="line">				register<span class="constructor">BeanPostProcessors(<span class="params">beanFactory</span>)</span>;</span><br><span class="line"></span><br><span class="line">				<span class="comment">// Initialize message source for this context.</span></span><br><span class="line">				<span class="comment">// 国际化</span></span><br><span class="line">				init<span class="constructor">MessageSource()</span>;</span><br><span class="line"></span><br><span class="line">				<span class="comment">// Initialize event multicaster for this context.</span></span><br><span class="line">				<span class="comment">// 事件传播器</span></span><br><span class="line">				init<span class="constructor">ApplicationEventMulticaster()</span>;</span><br><span class="line"></span><br><span class="line">				<span class="comment">// Initialize other special beans in specific context subclasses.</span></span><br><span class="line">				on<span class="constructor">Refresh()</span>;</span><br><span class="line"></span><br><span class="line">				<span class="comment">// Check for listener beans and register them.</span></span><br><span class="line">				<span class="comment">// 注册事件监听器</span></span><br><span class="line">				register<span class="constructor">Listeners()</span>;</span><br><span class="line"></span><br><span class="line">				<span class="comment">// Instantiate all remaining (non-lazy-init) singletons.</span></span><br><span class="line">				<span class="comment">// 剩余singleton初始化</span></span><br><span class="line">				finish<span class="constructor">BeanFactoryInitialization(<span class="params">beanFactory</span>)</span>;</span><br><span class="line"></span><br><span class="line">				<span class="comment">// Last step: publish corresponding event.</span></span><br><span class="line">				<span class="comment">// 初始化容器的生命周期时间处理器，并发布容器的生命周期事件</span></span><br><span class="line">				finish<span class="constructor">Refresh()</span>;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			catch (BeansException ex) &#123;</span><br><span class="line">				<span class="keyword">if</span> (logger.is<span class="constructor">WarnEnabled()</span>) &#123;</span><br><span class="line">					logger.warn(<span class="string">&quot;Exception encountered during context initialization - &quot;</span> +</span><br><span class="line">							<span class="string">&quot;cancelling refresh attempt: &quot;</span> + ex);</span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">				<span class="comment">// Destroy already created singletons to avoid dangling resources.</span></span><br><span class="line">				destroy<span class="constructor">Beans()</span>;</span><br><span class="line"></span><br><span class="line">				<span class="comment">// Reset &#x27;active&#x27; flag.</span></span><br><span class="line">				cancel<span class="constructor">Refresh(<span class="params">ex</span>)</span>;</span><br><span class="line"></span><br><span class="line">				<span class="comment">// Propagate exception to caller.</span></span><br><span class="line">				throw ex;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			finally &#123;</span><br><span class="line">				<span class="comment">// Reset common introspection caches in Spring&#x27;s core, since we</span></span><br><span class="line">				<span class="comment">// might not ever need metadata for singleton beans anymore...</span></span><br><span class="line">				reset<span class="constructor">CommonCaches()</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
几乎每一行代码都代表一个步骤，我们来看看每个步骤都做了什么。</li>
</ol>
<h3 id="prepareRefresh"><a href="#prepareRefresh" class="headerlink" title="prepareRefresh()"></a>prepareRefresh()</h3><p>整个大方法的名字叫refresh()，这里叫prepareRefresh()，一看名字就知道，是做准备工作的。其实里面就是设置容器当前时间，设置容器为active，还初始化了一些属性。</p>
<h3 id="obtainFreshBeanFactory"><a href="#obtainFreshBeanFactory" class="headerlink" title="obtainFreshBeanFactory()"></a>obtainFreshBeanFactory()</h3><p>这个方法虽然是重点，但它的功能我们在前面都讲过，就是把配置转化为BeanDefinition，并注册到容器中。核心代码loadBeanDefinitions(beanFactory)。不管你是xml配置还是注解扫描，都在这里完成。</p>
<h3 id="prepareBeanFactory-beanFactory"><a href="#prepareBeanFactory-beanFactory" class="headerlink" title="prepareBeanFactory(beanFactory)"></a>prepareBeanFactory(beanFactory)</h3><p>既然BeanFactory创建完成了，就要为BeanFactory的使用做一些配置。这里就是在配置容器特性，例如类加载器/事件处理器，增加了ApplicationContextAwareProcessor，设置一些忽略接口等等。beanFactory.ignoreDependencyInterface的功能是添加一些Aware接口，当需要实例化的Bean实现了这些接口时，忽略这些接口定义的set方法。beanFactory.registerResolvableDependency就是把一些容器之外的特殊的Bean，注入依赖。</p>
<h3 id="invokeBeanFactoryPostProcessors-beanFactory"><a href="#invokeBeanFactoryPostProcessors-beanFactory" class="headerlink" title="invokeBeanFactoryPostProcessors(beanFactory)"></a>invokeBeanFactoryPostProcessors(beanFactory)</h3><p>将所有的BeanFactoryPostProcessor先行实例化，并且执行其方法。先执行BeanDefinitionRegistryPostProcessor，在执行BeanFactoryPostProcessor。</p>
<h3 id="registerBeanPostProcessors-beanFactory"><a href="#registerBeanPostProcessors-beanFactory" class="headerlink" title="registerBeanPostProcessors(beanFactory)"></a>registerBeanPostProcessors(beanFactory)</h3><p>将所有的BeanPostProcessor先行实例化。</p>
<h3 id="initMessageSource"><a href="#initMessageSource" class="headerlink" title="initMessageSource()"></a>initMessageSource()</h3><p>注入国际化MessageSource的实现DelegatingMessageSource</p>
<h3 id="initApplicationEventMulticaster"><a href="#initApplicationEventMulticaster" class="headerlink" title="initApplicationEventMulticaster()"></a>initApplicationEventMulticaster()</h3><p>注入事件传播器ApplicationEventMulticaster的实现impleApplicationEventMulticaster。</p>
<h3 id="registerListeners"><a href="#registerListeners" class="headerlink" title="registerListeners()"></a>registerListeners()</h3><p>注册事件监听器，我们这里没有，所以什么都没做。</p>
<h3 id="finishBeanFactoryInitialization-beanFactory"><a href="#finishBeanFactoryInitialization-beanFactory" class="headerlink" title="finishBeanFactoryInitialization(beanFactory)"></a>finishBeanFactoryInitialization(beanFactory)</h3><p>实例化并初始化所有的单例非lazyInit的Bean。就是对所有的BeanDefinition执行getBean。这样，几乎所有的实例都会被缓存起来，可以直接拿来使用。</p>
<h3 id="finishRefresh"><a href="#finishRefresh" class="headerlink" title="finishRefresh()"></a>finishRefresh()</h3><p>清空资源缓存，初始化容器的生命周期事件处理器，并发布容器的生命周期事件。这里主要和Lifecycle接口有关，所有实现了Lifecycle的Bean，都会在此处调用start()方法。</p>
<h3 id="resetCommonCaches"><a href="#resetCommonCaches" class="headerlink" title="resetCommonCaches()"></a>resetCommonCaches()</h3><p>主要是清空一些缓存。</p>
</div><div class="tags"><a href="/tags/spring/"><i class="fa fa-tag"></i>spring</a><a href="/tags/%E6%BA%90%E7%A0%81/"><i class="fa fa-tag"></i>源码</a><a href="/tags/%E6%9E%B6%E6%9E%84/"><i class="fa fa-tag"></i>架构</a></div><div class="post-nav"><a class="pre" href="/2020/12/30/spring%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB(%E4%B8%83)-----%E7%90%86%E8%A7%A3@Configuration/">spring源码阅读(七)-----理解@Configuration</a><a class="next" href="/2020/12/18/spring%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB(%E4%BA%94)-----%E7%90%86%E8%A7%A3@Component/">spring源码阅读(五)-----理解@Component</a></div><div id="vcomment"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script><script>var notify = 'false' == 'true' ? true : false;
var verify = 'false' == 'true' ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'m1L4QofvaTBynd4G4ARXUBIv-gzGzoHsz',
  appKey:'q7tSFtGgIvgO1ScyMtQdvUkR',
  placeholder:'Just so so',
  avatar:'monsterid',
  guest_info:guest_info,
  pageSize:'10'
})
</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/spring%E6%BA%90%E7%A0%81/">spring源码</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/spring/" style="font-size: 15px;">spring</a> <a href="/tags/%E6%BA%90%E7%A0%81/" style="font-size: 15px;">源码</a> <a href="/tags/%E6%9E%B6%E6%9E%84/" style="font-size: 15px;">架构</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2021/03/11/spring%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB(%E5%8D%81)-----SpringBoot%E5%90%AF%E5%8A%A8%E5%92%8C%E5%86%85%E7%BD%AETomcat/">spring源码阅读(一)-----核心流程</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/01/07/spring%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB(%E5%85%AB)-----%E7%90%86%E8%A7%A3AOP/">spring源码阅读(八)-----理解AOP</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/12/30/spring%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB(%E4%B8%83)-----%E7%90%86%E8%A7%A3@Configuration/">spring源码阅读(七)-----理解@Configuration</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/12/20/spring%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB(%E5%85%AD)-----ClassPathXmlApplicationContext%E6%B5%81%E7%A8%8B/">spring源码阅读(六)-----ClassPathXmlApplicationContext流程</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/12/18/spring%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB(%E4%BA%94)-----%E7%90%86%E8%A7%A3@Component/">spring源码阅读(五)-----理解@Component</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/12/16/spring%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB(%E5%9B%9B)-----%E7%90%86%E8%A7%A3@Autowired/">spring源码阅读(四)-----理解@Autowired</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/12/14/spring%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB(%E4%B8%89)-----Bean%E7%9A%84%E5%8A%A0%E8%BD%BD/">spring源码阅读(三)-----Bean的加载</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/12/01/spring%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB(%E4%BA%8C)-----BeanDefinition%E7%9A%84%E6%B3%A8%E5%86%8C/">spring源码阅读(二)-----资源加载与BeanDefinition注册</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/12/01/spring%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB(%E4%B8%80)-----%E6%A0%B8%E5%BF%83%E6%B5%81%E7%A8%8B/">spring源码阅读(一)-----核心流程</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2021 <a href="/." rel="nofollow">不喝酒的烟.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js" successtext="复制成功!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/miku.model.json"},"display":{"position":"right","width":350,"height":650},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>